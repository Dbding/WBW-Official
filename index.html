<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>王不亡 (Wang Bu-Wang) - 官方音樂首頁</title>
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入 Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #000000;
            color: #e5e7eb;
            overflow-x: hidden; /* 修改：只禁止水平捲動，允許垂直捲動 */
        }

        /* Canvas 作為固定背景，增加 cursor 樣式 */
        #interactive-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            cursor: grab;
        }
        
        #interactive-background:active {
            cursor: grabbing;
        }

        /* 主要內容容器，使用玻璃擬態效果 */
        .content-wrapper {
            background: rgba(10, 10, 10, 0.5);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            z-index: 1;
        }

        /* 專輯卡片懸停效果 */
        .album-card {
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            border: 2px solid transparent;
        }

        .album-card:hover {
            transform: translateY(-10px) scale(1.05);
            background: rgba(20, 20, 20, 0.7);
        }
        
        .album-card-1:hover {
            border-color: #e9d5a1;
            box-shadow: 0 0 25px rgba(233, 213, 161, 0.4);
        }
        
        .album-card-2:hover {
            border-color: #ff4800;
            box-shadow: 0 0 25px rgba(255, 72, 0, 0.4);
        }
        
        /* 專輯標題的顏色 */
        .album-card-1 .album-title { color: #fefae0; }
        .album-card-2 .album-title { color: #ff8c00; }

        .album-card:hover .album-title {
            text-shadow: 0 0 10px currentColor;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Canvas 動態背景 -->
    <canvas id="interactive-background"></canvas>

    <!-- 主要內容 -->
    <main id="main-content" class="min-h-screen flex flex-col items-center justify-center p-4">
        
        <div class="content-wrapper w-full max-w-4xl rounded-2xl p-4 sm:p-8 md:p-12 text-center shadow-2xl">

            <!-- 藝人名稱與介紹 -->
            <header class="mb-10">
                <div class="flex items-center justify-center gap-x-3 sm:gap-x-4">
                    <h1 class="text-4xl sm:text-6xl md:text-8xl font-black tracking-tighter text-white">王不亡</h1>
                    <div class="flex flex-col items-start">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 sm:h-8 sm:w-8 text-blue-400" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a.75.75 0 00-1.06-1.06L9 10.94l-1.72-1.72a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.06 0l3.75-3.75z" clip-rule="evenodd"></path>
                        </svg>
                        <span class="text-xs text-blue-300 font-bold"></span>
                    </div>
                </div>
                <p class="text-base sm:text-xl md:text-2xl text-gray-300 mt-2">Wang Bu-Wang</p>
                <p class="text-gray-400 mt-6 max-w-2xl mx-auto">
                    在星辰與餘燼之間，探索存在的詩篇。
                </p>
            </header>

            <!-- 專輯選擇區塊 -->
            <section class="grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 mb-12">
                <div data-src="https://dbding.github.io/WBW-Debut-Album/" class="album-card album-card-1 block rounded-xl p-6 cursor-pointer">
                    <p class="text-sm text-gray-400">首張專輯</p>
                    <h2 class="album-title text-3xl sm:text-4xl font-bold mt-1">王不亡</h2>
                    <p class="text-gray-300 mt-3">一張探索存在、記憶與虛無的宇宙史詩。</p>
                </div>
                
                <div data-src="https://dbding.github.io/DisorderedGarden/" class="album-card album-card-2 block rounded-xl p-6 cursor-pointer">
                    <p class="text-sm text-gray-400">第二張專輯</p>
                    <h2 class="album-title text-3xl sm:text-4xl font-bold mt-1">失序花園</h2>
                    <p class="text-gray-300 mt-3">一場關於秩序崩壞與野蠻生長的搖滾寓言。</p>
                </div>
            </section>

            <!-- 外部連結 -->
            <footer>
                <div class="flex items-center justify-center gap-4 flex-wrap">
                    <a href="https://open.spotify.com/artist/1635yBjjR5s41ZIdOBnVsN" rel="noopener noreferrer" class="inline-flex items-center gap-x-3 bg-green-500/20 hover:bg-green-500/40 text-white font-bold py-2 px-4 sm:py-3 sm:px-6 rounded-full transition-colors duration-300">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 496 512">
                            <path d="M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.3 363.3c-1.3 2.7-4.1 3.9-6.9 2.6-32.9-19.8-73.9-24.2-123.4-13.3-2.6.5-5.3-1-5.8-3.6-.5-2.6 1-5.3 3.6-5.8 53.3-11.6 97.8-6.8 134.1 14.9 2.7 1.3 3.9 4.1 2.6 6.9zm12.9-52.4c-1.6 3.3-5.2 4.5-8.5 2.9-37.4-22.6-96-28.9-140.4-15.8-3.2 1-6.5-.8-7.5-3.9-1-3.2.8-6.5 3.9-7.5 48.2-14.1 110.8-7.2 152.1 17.1 3.3 1.6 4.5 5.2 2.9 8.5zM375.3 256c-2 4-6.4 5.3-10.4 3.3-43.8-26.3-115.8-32.2-167.3-17.7-4.1 1.2-8.4-1.2-9.6-5.3-1.2-4.1 1.2-8.4 5.3-9.6 57.2-15.7 135.2-9.1 184.2 19.1 4 2 5.3 6.4 3.3 10.4z"></path>
                        </svg>
                        在 Spotify 上聆聽
                    </a>
                    <a href="https://www.youtube.com/channel/UCvjjAmPrzZa4zG1R2kH2LBA" rel="noopener noreferrer" class="inline-flex items-center gap-x-3 bg-red-600/30 hover:bg-red-600/50 text-white font-bold py-2 px-4 sm:py-3 sm:px-6 rounded-full transition-colors duration-300">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path>
                        </svg>
                        前往 YouTube 頻道
                    </a>
                    <div data-src="https://dbding.github.io/EchoGacha/" class="album-card inline-flex items-center gap-x-3 bg-yellow-500/20 hover:bg-yellow-500/40 text-white font-bold py-2 px-4 sm:py-3 sm:px-6 rounded-full transition-colors duration-300 cursor-pointer">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                          <circle cx="12" cy="12" r="10" />
                          <circle cx="12" cy="12" r="3" />
                        </svg>
                        隨機迴響
                    </div>
                </div>
            </footer>
        </div>
    </main>

    <!-- 專輯 Iframe 檢視器 (移除 X 按鈕) -->
    <div id="album-viewer" class="fixed inset-0 z-50 hidden bg-black">
        <iframe id="album-iframe" src="about:blank" frameborder="0" class="w-full h-full"></iframe>
    </div>
    
    <footer class="fixed bottom-4 w-full text-center text-gray-600 text-xs z-10">
        <p>© 2025 Wang Bu-Wang. All Rights Reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const canvas = document.getElementById('interactive-background');
            const ctx = canvas.getContext('2d');
            let width = canvas.width = window.innerWidth;
            let height = canvas.height = window.innerHeight;

            const STAR_COUNT = Math.floor(width * height / 8000); 
            const SHOOTING_STAR_COUNT = 8; 
            const EMBER_COUNT = Math.floor(width * height / 8000);
            const SPARK_COUNT = 10;
            let particles = [];
            let hoverState = 'none';

            // --- 專輯檢視器邏輯 ---
            const mainContent = document.getElementById('main-content');
            const albumViewer = document.getElementById('album-viewer');
            const albumIframe = document.getElementById('album-iframe');
            const albumCards = document.querySelectorAll('.album-card'); 

            function showAlbum(url) {
                const cacheBustingUrl = `${url}?v=${new Date().getTime()}`;
                albumIframe.src = cacheBustingUrl;
                albumViewer.classList.remove('hidden');
                mainContent.classList.add('hidden');
            }

            function hideAlbum() {
                albumIframe.src = 'about:blank';
                albumViewer.classList.add('hidden');
                mainContent.classList.remove('hidden');
            }

            albumCards.forEach(card => {
                card.addEventListener('click', () => {
                    const url = card.dataset.src;
                    if (url) {
                        showAlbum(url);
                    }
                });
            });

            window.addEventListener('message', (event) => {
                if (event.data === 'closeAlbumViewer') {
                    hideAlbum();
                }
            });
            
            // --- 粒子動畫邏輯 ---
            const albumCard1 = document.querySelector('.album-card-1');
            const albumCard2 = document.querySelector('.album-card-2');

            albumCard1.addEventListener('mouseenter', () => hoverState = 'left');
            albumCard1.addEventListener('mouseleave', () => hoverState = 'none');
            albumCard2.addEventListener('mouseenter', () => hoverState = 'right');
            albumCard2.addEventListener('mouseleave', () => hoverState = 'none');


            const mouse = {
                x: null, y: null,
                px: null, py: null,
                dx: 0, dy: 0,
                down: false
            };

            function updateMousePosition(e) {
                const event = e.touches ? e.touches[0] : e;
                if(event) {
                    mouse.x = event.clientX;
                    mouse.y = event.clientY;
                }
            }
            canvas.addEventListener('mousedown', e => {
                mouse.down = true;
                updateMousePosition(e);
                if(mouse.x > width / 2) createSparkBurst(mouse.x, mouse.y);
            });
            canvas.addEventListener('touchstart', e => {
                mouse.down = true;
                updateMousePosition(e);
                if(mouse.x > width / 2) createSparkBurst(mouse.x, mouse.y);
            });
             canvas.addEventListener('mouseup', () => mouse.down = false);
             canvas.addEventListener('touchend', () => mouse.down = false);
            canvas.addEventListener('mousemove', e => {
                mouse.px = mouse.x;
                mouse.py = mouse.y;
                updateMousePosition(e);
                mouse.dx = mouse.x - mouse.px;
                mouse.dy = mouse.y - mouse.py;
            });
             canvas.addEventListener('touchmove', e => {
                e.preventDefault(); 
                mouse.px = mouse.x;
                mouse.py = mouse.y;
                updateMousePosition(e);
                mouse.dx = mouse.x - mouse.px;
                mouse.dy = mouse.y - mouse.py;
            });

            function createSparkBurst(x, y) {
                 const burstSize = 30;
                 for (let i = 0; i < burstSize; i++) {
                     particles.push(new Particle('burst_spark', { x, y }));
                 }
            }
            
            class Particle {
                constructor(type, origin = null) {
                    this.type = type;
                    this.reset(origin);
                }

                reset(origin = null) {
                    this.life = 1;
                    this.opacity = 0;
                    this.transformed = false;
                    this.vx = 0; this.vy = 0;
                    this.len = 0;

                    switch (this.type) {
                        case 'star':
                            this.x = Math.random() * width / 2;
                            this.y = Math.random() * height;
                            this.vx = (Math.random() - 0.5) * 0.4;
                            this.vy = (Math.random() - 0.5) * 0.4;
                            this.depth = Math.random() * 0.6 + 0.4; 
                            this.size = (Math.random() * 1.5 + 0.5) * this.depth;
                            this.baseOpacity = (Math.random() * 0.5 + 0.3) * this.depth;
                            this.pulseSpeed = Math.random() * 0.002;
                            this.pulseOffset = Math.random() * Math.PI * 2;
                            this.opacity = this.baseOpacity;
                            break;
                        case 'shooting_star':
                            if (Math.random() > 0.5) { this.x = Math.random() * width; this.y = -50; } 
                            else { this.x = -50; this.y = Math.random() * height; }
                            this.vx = Math.random() * 8 + 10;
                            this.vy = Math.random() * 8 + 10;
                            this.size = Math.random() * 2 + 2;
                            this.len = Math.random() * 250 + 200;
                            this.opacity = Math.random() * 0.6 + 0.7;
                            this.depth = Math.random() * 0.4 + 0.6;
                            break;
                        case 'ember':
                            this.x = Math.random() * width / 2 + width / 2; this.y = Math.random() * 50 + height;
                            this.vx = (Math.random() - 0.5) * 1.0; this.vy = -(Math.random() * 2.0 + 1.0);
                            this.size = Math.random() * 2.5 + 1.0; this.opacity = Math.random() * 0.6 + 0.2;
                            break;
                        case 'spark':
                            this.x = Math.random() * width / 2 + width / 2; this.y = Math.random() * height * 0.2 + height * 0.8;
                            this.vx = (Math.random() - 0.5) * 8; this.vy = -(Math.random() * 6 + 4);
                            this.size = Math.random() * 2.0 + 1; this.life = 100; this.opacity = 1;
                            break;
                        case 'burst_spark':
                            if (!origin) return;
                            this.x = origin.x; this.y = origin.y;
                            const angle = Math.random() * Math.PI * 2;
                            const speed = Math.random() * 12 + 4;
                            this.vx = Math.cos(angle) * speed; this.vy = Math.sin(angle) * speed;
                            this.size = Math.random() * 2.0 + 1.5; this.life = 80; this.opacity = 1;
                            break;
                    }
                }

                update() {
                    let speedMultiplier = 1;

                    if (hoverState === 'left' && this.x < width / 2) {
                        speedMultiplier = 8;
                        if ((this.type === 'star' || this.type === 'shooting_star') && mouse.x != null) {
                            const dx = this.x - mouse.x;
                            const dy = this.y - mouse.y;
                            const dist = Math.sqrt(dx * dx + dy * dy);
                            if (dist > 30 && dist < 250) {
                                const swirlStrength = (1 - (dist / 250)) * 0.3;
                                this.vx += -dy / dist * swirlStrength;
                                this.vy += dx / dist * swirlStrength;
                            }
                        }
                    } else if (hoverState === 'right' && this.x > width / 2) {
                        speedMultiplier = 8;
                    }
                    
                    if (mouse.down && this.x < width / 2) {
                        const dx = this.x - mouse.x; const dy = this.y - mouse.y;
                        const dist = Math.sqrt(dx * dx + dy * dy);
                        if (dist < 200) {
                            const force = (200 - dist) / 200;
                            this.vx += (mouse.dx || 0) * force * 0.2 * (this.depth || 1);
                            this.vy += (mouse.dy || 0) * force * 0.2 * (this.depth || 1);
                        }
                    }

                    this.x += this.vx * speedMultiplier * 0.1;
                    this.y += this.vy * speedMultiplier * 0.1;

                    this.vx *= 0.97; this.vy *= 0.97;

                    switch (this.type) {
                        case 'star':
                            this.opacity = this.baseOpacity + Math.sin(Date.now() * this.pulseSpeed + this.pulseOffset) * this.baseOpacity * 0.4;
                            if (this.x > width / 2 && !this.transformed) {
                                this.transformed = true; this.type = 'fading_spark';
                                this.vx = (Math.random() - 0.5) * 4; this.vy = Math.random() * 5 + 3;
                                this.life = 100; this.size = Math.random() * 3 + 2;
                            }
                            break;
                        case 'shooting_star':
                            if (this.x > width / 2 && !this.transformed) {
                                this.transformed = true; this.type = 'fading_spark';
                                this.vx = (Math.random() - 0.5) * 4; this.vy = Math.random() * 5 + 3;
                                this.life = 100; this.size = Math.random() * 3 + 2;
                            }
                            break;
                        case 'spark': case 'fading_spark': case 'burst_spark':
                            this.life -= 2; this.opacity = this.life > 0 ? this.life / 100 : 0;
                            break;
                        case 'ember':
                            this.opacity -= 0.008; break;
                    }

                    const isOutOfBox = this.y < -this.len - 50 || this.y > height + this.len + 50 || this.x < -this.len - 50 || this.x > width + this.len + 50;
                    if (isOutOfBox || this.opacity <= 0 || this.life <= 0) {
                        if(this.transformed || this.type === 'burst_spark') {
                            this.type = ['star', 'ember', 'spark', 'shooting_star'][Math.floor(Math.random() * 4)];
                        }
                        this.reset();
                    }
                }

                draw() {
                    if(this.opacity <= 0) return;
                    ctx.globalAlpha = this.opacity;
                    
                    switch (this.type) {
                        case 'star':
                            ctx.fillStyle = `rgba(254, 250, 224, ${this.opacity})`; ctx.shadowBlur = 8; ctx.shadowColor = '#fefae0';
                            ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill(); ctx.shadowBlur = 0;
                            break;
                        case 'shooting_star':
                            const gradient = ctx.createLinearGradient(this.x, this.y, this.x - this.len * (this.vx / 15) , this.y - this.len * (this.vy / 15));
                            gradient.addColorStop(0, `rgba(255, 255, 255, ${this.opacity})`); gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');
                            ctx.strokeStyle = gradient; ctx.lineWidth = this.size; ctx.lineCap = 'round';
                            ctx.beginPath(); ctx.moveTo(this.x, this.y); ctx.lineTo(this.x - this.len * (this.vx / 15), this.y - this.len * (this.vy/15)); ctx.stroke();
                            break;
                        case 'ember':
                            ctx.fillStyle = `rgba(255, 140, 0, ${this.opacity})`; ctx.shadowBlur = 12; ctx.shadowColor = '#ff4800';
                            ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill(); ctx.shadowBlur = 0;
                            break;
                        case 'spark': case 'burst_spark':
                             ctx.fillStyle = `rgba(255, 220, 150, ${this.opacity})`; ctx.shadowBlur = 15; ctx.shadowColor = '#ff8c00';
                            ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill(); ctx.shadowBlur = 0;
                            break;
                        case 'fading_spark':
                             ctx.fillStyle = `rgba(255, 100, 50, ${this.opacity})`; ctx.shadowBlur = 12; ctx.shadowColor = '#ff4800';
                            ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill(); ctx.shadowBlur = 0;
                            break;
                    }
                }
            }
            
            function init() {
                particles = [];
                const types = {STAR_COUNT, SHOOTING_STAR_COUNT, EMBER_COUNT, SPARK_COUNT};
                const typeNames = {STAR_COUNT: 'star', SHOOTING_STAR_COUNT: 'shooting_star', EMBER_COUNT: 'ember', SPARK_COUNT: 'spark'};
                for(const [key, count] of Object.entries(types)) {
                    for (let i = 0; i < count; i++) {
                        particles.push(new Particle(typeNames[key]));
                    }
                }
            }

            function animate() {
                ctx.clearRect(0, 0, width, height);

                if (hoverState !== 'none') {
                    ctx.save();
                    const gradientCenterX = hoverState === 'left' ? width * 0.25 : width * 0.75;
                    const gradientColor = hoverState === 'left' ? 'rgba(150, 150, 200, 0.1)' : 'rgba(255, 100, 50, 0.1)';

                    const glowGradient = ctx.createRadialGradient(gradientCenterX, height / 2, 0, gradientCenterX, height / 2, width / 1.5);
                    glowGradient.addColorStop(0, gradientColor);
                    glowGradient.addColorStop(1, 'rgba(0, 0, 0, 0)');

                    ctx.fillStyle = glowGradient;
                    ctx.fillRect(0, 0, width, height);
                    ctx.restore();
                }

                particles.forEach(p => { p.update(); p.draw(); });
                ctx.globalAlpha = 1;
                requestAnimationFrame(animate);
            }

            window.addEventListener('resize', () => {
                width = canvas.width = window.innerWidth;
                height = canvas.height = window.innerHeight;
                init();
            });

            init();
            animate();
        });
    </script>
</body>
</html>

